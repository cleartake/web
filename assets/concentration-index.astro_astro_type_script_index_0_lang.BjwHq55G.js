import{i as u}from"./index.DOU3Q5Pe.js";document.addEventListener("DOMContentLoaded",()=>{const r=document.getElementById("concentration-chart");if(!r)return;const i=JSON.parse(r.dataset.chartData||"[]"),l=u(r),n=i.map(e=>e.date),s=i.map(e=>e.concentration),d={tooltip:{trigger:"axis",formatter:function(e){const m=e[0].axisValue,o=e[0].value,p=e[0].dataIndex,a=i[p];let t="";o<0?t="Top companies underperformed the index":o>100?t="Extreme concentration event":o>70?t="High concentration":o>30?t="Moderate concentration":t="Broadly distributed returns";const c=Math.abs(a.indexReturn),y=c>0?(a.topContribution/a.indexReturn*100).toFixed(1):"0.0",b=c>0?(a.restContribution/a.indexReturn*100).toFixed(1):"0.0";return`${m}<br/>ACI: ${o.toFixed(1)}%<br/>Top 5: ${y}%<br/>Others: ${b}%<br/><em>${t}</em>`}},grid:{left:80,right:20,top:20,bottom:80},xAxis:{type:"category",data:n,name:"Date",nameLocation:"middle",nameGap:30,axisLabel:{fontSize:11,color:"#6b7280",interval:Math.floor(n.length/6)}},yAxis:{type:"value",name:"Concentration Index (%)",nameLocation:"middle",nameGap:50,axisLabel:{fontSize:11,color:"#6b7280",formatter:"{value}%"},splitLine:{show:!0,lineStyle:{color:"#f3f4f6",width:1}}},series:[{name:"Green Zone",type:"line",data:n.map(()=>[0,30]),areaStyle:{color:"rgba(34, 197, 94, 0.1)"},lineStyle:{opacity:0},symbol:"none",silent:!0,stack:"zones"},{name:"Yellow Zone",type:"line",data:n.map(()=>[30,70]),areaStyle:{color:"rgba(251, 191, 36, 0.1)"},lineStyle:{opacity:0},symbol:"none",silent:!0,stack:"zones"},{name:"Red Zone",type:"line",data:n.map(()=>[70,700]),areaStyle:{color:"rgba(239, 68, 68, 0.1)"},lineStyle:{opacity:0},symbol:"none",silent:!0,stack:"zones"},{name:"AI Concentration Index",type:"line",data:s,smooth:!0,symbol:"none",lineStyle:{color:"#6b7280",width:2},areaStyle:{color:{type:"linear",x:0,y:0,x2:0,y2:1,colorStops:[{offset:0,color:"rgba(107, 114, 128, 0.2)"},{offset:1,color:"rgba(107, 114, 128, 0)"}]}}}]};l.setOption(d),window.addEventListener("resize",()=>{l.resize()})});
